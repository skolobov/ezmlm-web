From lbraeuer@mpex.net Fri Mar  5 17:03:07 2004
Return-Path: <lbraeuer@mpex.net>
Delivered-To: guy-ezmlm@rucus.net
Received: (qmail 49433 invoked by uid 1025); 5 Mar 2004 15:03:07 -0000
Received: (qmail-scanner-1.20rc3 49432 invoked by uid 82); 05 Mar 2004 15:03:07 -0000
Received: from endo.mpex.net (80.190.108.11)
  by server.rucus.ru.ac.za with SMTP; 5 Mar 2004 15:03:04 -0000
Received: (qmail 21499 invoked by uid 509); 5 Mar 2004 15:02:59 -0000
Received: from unknown (HELO mpex.net) (217.225.11.124)
  by 0 with SMTP; 5 Mar 2004 15:02:59 -0000
Message-ID: <404896A9.8030606@mpex.net>
Date: Fri, 05 Mar 2004 16:03:05 +0100
From: Lars Braeuer <lbraeuer@mpex.net>
Organization: MPeX.net GmbH
User-Agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.6) Gecko/20040113
X-Accept-Language: de, en-us, en
MIME-Version: 1.0
To:  guy-ezmlm@rucus.net
Subject: Bug + fix in ezmlm.pm 0.04
Content-Type: text/plain; charset=us-ascii; format=flowed
Content-Transfer-Encoding: 7bit
Status: RO
Content-Length: 1010

Addition: Just found out, that there's the same bug on line 138!

---------------

Hi Guy!

I just posted this on cpan, but I also wanted to let you know:

----------------
http://rt.cpan.org/NoAuth/Bug.html?id=5571
----------------

Subject: Problem with dash in owner or sender address

In Ezmlm.pm 0.04 on line 85 the options are split at every dash ("-\w+"). So when trying to supply
an owner or sender address containing a dash i.e. someone@some-domain.com this domain is splitted in
two parts ("someone@some" and "-domain.com") causing this error: "ezmlm-make: fatal: dir and dot
must start with slash". This occurs because "-domain.com" is interpreted as an option which is of
course wrong.

This problem can be solved by adding a \s right in front of the -\w+ on line 85 of the module:

--- foreach (split(/["'](.+?)["']|(-\w+)/, $commandline)) {
+++ foreach (split(/["'](.+?)["']|(\s-\w+)/, $commandline)) {

This assures, that an option is split and not every occurence of a dash, even in a domain.


